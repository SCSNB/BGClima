<div class="banner-management-container">
  <div class="banner-header">
    <h2>Списък с банери</h2>
    <button mat-raised-button color="primary" (click)="openAddBannerDialog()" class="add-button">
      <mat-icon>add</mat-icon> Добави нов банер
    </button>
  </div>

  <div class="table-container">
    <table mat-table [dataSource]="dataSource" matSort class="banners-table">
      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
        <td mat-cell *matCellDef="let banner" class="banner-id">{{banner.id}}</td>
      </ng-container>

      <!-- Image Column -->
      <ng-container matColumnDef="image">
        <th mat-header-cell *matHeaderCellDef>Изображение</th>
        <td mat-cell *matCellDef="let banner" class="banner-image-cell">
          <div class="banner-thumbnail" *ngIf="banner.imageUrl">
            <img [src]="banner.imageUrl" [alt]="banner.name">
          </div>
          <div class="no-image" *ngIf="!banner.imageUrl">
            <mat-icon>image_not_supported</mat-icon>
          </div>
        </td>
      </ng-container>

      <!-- Title Column -->
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Име</th>
        <td mat-cell *matCellDef="let banner" class="banner-title">{{banner.name}}</td>
      </ng-container>

      <!-- Position Column -->
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Позиция</th>
        <td mat-cell *matCellDef="let banner" class="banner-position">
          <span class="position-badge" [ngClass]="getPositionClass(banner.type)">
            {{getBannerPosition(banner.type)}}
          </span>
        </td>
      </ng-container>

      <!-- Status Column -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Статус</th>
        <td mat-cell *matCellDef="let banner">
          <span class="status-text" [class.active]="banner.isActive">
            {{ banner.isActive ? 'Активен' : 'Неактивен' }}
          </span>
        </td>
      </ng-container>

      <!-- Actions Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="actions-header">Действия</th>
        <td mat-cell *matCellDef="let banner" class="actions-cell">
          <button mat-icon-button color="primary" (click)="openEditBannerDialog(banner)" matTooltip="Редактирай">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button color="warn" (click)="confirmDelete(banner)" matTooltip="Изтрий">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      <!-- Loading row -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" [colSpan]="displayedColumns.length">
          <div *ngIf="loading" class="loading-row">
            <mat-spinner diameter="24"></mat-spinner>
            <span>Зареждане на банери...</span>
          </div>
          <div *ngIf="!loading" class="no-results">
            Няма намерени банери
          </div>
        </td>
      </tr>
    </table>
  </div>

  <mat-paginator [pageSizeOptions]="[10, 25, 50, 100]" showFirstLastButtons></mat-paginator>
</div>
